////////////////////////////////////////////////////////////////////////////////
// ВСПОМОГАТЕЛЬНЫЕ ПРОЦЕДУРЫ И ФУНКЦИИ

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

Процедура ПриОткрытии()
	
	МеханизмНумерацииОбъектов.УстановитьДоступностьПоляВводаНомера(Метаданные(), ЭтаФорма, ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.Код);	
	
	ТарифныеСтавки.Отбор.ТарифныйРазряд.Значение = Ссылка;
	ТарифныеСтавки.Отбор.ТарифныйРазряд.Использование = Истина;
	
	ТарифныеСтавки.Прочитать();
	
КонецПроцедуры


Процедура ПриЗаписи(Отказ)
	
	Если ТарифныеСтавки.Модифицированность() Тогда
		ТарифныеСтавки.Отбор.ТарифныйРазряд.Значение = Ссылка;
		Для Каждого СтрокаНабора Из ТарифныеСтавки Цикл
			СтрокаНабора.ТарифныйРазряд = Ссылка;
		КонецЦикла;
		ТарифныеСтавки.Записать();
	КонецЕсли;
	
КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
//  ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ ПОЛЕЙ

Процедура ТарифныеСтавкиПослеУдаления(Элемент)
	Модифицированность = Истина
КонецПроцедуры

Процедура ТарифныеСтавкиПриОкончанииРедактирования(Элемент, НоваяСтрока, ОтменаРедактирования)
	Если Не ОтменаРедактирования Тогда
		Модифицированность = Истина
	КонецЕсли;
КонецПроцедуры

Процедура ДействияФормыРедактироватьКод(Кнопка)
	МеханизмНумерацииОбъектов.ИзменениеВозможностиРедактированияНомера(Метаданные(), ЭтаФорма, ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.Код);
КонецПроцедуры