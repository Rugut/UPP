// Процедура - обработчик события "ПриОткрытии" формы
//
Процедура ДействияФормыРедактироватьКод(Кнопка)
	
	МеханизмНумерацииОбъектов.ИзменениеВозможностиРедактированияНомера(Метаданные.Справочники.ЕдиницыИзмерения, ЭлементыФормы.СправочникСписок, ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.СправочникСписок.Колонки.Код);
	
КонецПроцедуры

Процедура ПриОткрытии()

	ЕдиницаИзмеренияВеса = Константы.ЕдиницаИзмеренияВеса.Получить();

	Если НЕ ЗначениеЗаполнено(ЕдиницаИзмеренияВеса) Тогда
		ЭлементыФормы.СправочникСписок.Колонки.Вес.ТекстШапки = "Вес";
	Иначе
		ЭлементыФормы.СправочникСписок.Колонки.Вес.ТекстШапки = "Вес (" + СокрЛП(ЕдиницаИзмеренияВеса) +")";
	КонецЕсли;

	ЕдиницаИзмеренияОбъема = Константы.ЕдиницаИзмеренияОбъема.Получить();

	Если НЕ ЗначениеЗаполнено(ЕдиницаИзмеренияОбъема) Тогда
		ЭлементыФормы.СправочникСписок.Колонки.Объем.ТекстШапки = "Объем";
	Иначе
		ЭлементыФормы.СправочникСписок.Колонки.Объем.ТекстШапки = "Объем (" + СокрЛП(ЕдиницаИзмеренияОбъема) +")";
	КонецЕсли;

	МеханизмНумерацииОбъектов.ДобавитьВМенюДействияКнопкуРедактированияКода(ЭлементыФормы.ДействияФормы.Кнопки.Подменю);
	МеханизмНумерацииОбъектов.УстановитьДоступностьПоляВводаНомера(Метаданные.Справочники.ЕдиницыИзмерения, ЭлементыФормы.СправочникСписок, ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.СправочникСписок.Колонки.Код);
	
КонецПроцедуры