Процедура ДействияФормыРедактироватьКод(Кнопка)
	
	МеханизмНумерацииОбъектов.ИзменениеВозможностиРедактированияНомера(Метаданные.Справочники.ВидыНоменклатуры, ЭлементыФормы.СправочникСписок, ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.СправочникСписок.Колонки.Код);
	
КонецПроцедуры

// Процедура - обработчик события "ПриНачалеРедактирования" табличного поля "СправочникСписок".
//
Процедура СправочникСписокПриНачалеРедактирования(Элемент, НоваяСтрока)
	
	СтрокаСправочника = Элемент.ТекущиеДанные;
	Если НоваяСтрока И НЕ ЗначениеЗаполнено(СтрокаСправочника.ТипНоменклатуры) Тогда
		
		Если СтрокаСправочника.Родитель.ТипНоменклатуры.Пустая() Тогда
			СтрокаСправочника.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Товар;
		Иначе
			СтрокаСправочника.ТипНоменклатуры = СтрокаСправочника.Родитель.ТипНоменклатуры;
		КонецЕсли;
		
	КонецЕсли;
	
КонецПроцедуры // СправочникСписокПриНачалеРедактирования()

Процедура ПриОткрытии()
	
	МеханизмНумерацииОбъектов.ДобавитьВМенюДействияКнопкуРедактированияКода(ЭлементыФормы.ДействияФормы.Кнопки.Подменю);
	МеханизмНумерацииОбъектов.УстановитьДоступностьПоляВводаНомера(Метаданные.Справочники.ВидыНоменклатуры, ЭлементыФормы.СправочникСписок, ЭлементыФормы.ДействияФормы.Кнопки.Подменю, ЭлементыФормы.СправочникСписок.Колонки.Код);
	
КонецПроцедуры