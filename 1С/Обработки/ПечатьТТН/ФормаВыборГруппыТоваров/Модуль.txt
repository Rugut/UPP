Процедура КнопкаВыполнитьНажатие(Кнопка)
	Если ЭлементыФормы.ГруппыТоваров.ТекущиеДанные <> Неопределено
		И ЭлементыФормы.ГруппыТоваров.ТекущиеДанные.Родитель <> Неопределено
	Тогда
		Закрыть(ЭлементыФормы.ГруппыТоваров.ТекущиеДанные.Группа);
	КонецЕсли;
КонецПроцедуры // КнопкаВыполнитьНажатие()

Процедура ПриОткрытии()
	Если ГруппыТоваров.Строки.Количество() = 0.00 Тогда
		КлассификаторЕТСНГ = ПолучитьМакет("ЕТСНГ");
		СтрокаГруппы = Неопределено;
		Для итератор = 1 По КлассификаторЕТСНГ.ВысотаТаблицы Цикл
			Если Булево(КлассификаторЕТСНГ.ПолучитьОбласть(итератор, 3, итератор, 3).ТекущаяОбласть.Текст) = Истина Тогда
				СтрокаГруппы = ГруппыТоваров.Строки.Добавить();
				СтрокаГруппы.Группа = КлассификаторЕТСНГ.ПолучитьОбласть(итератор, 5, итератор, 5).ТекущаяОбласть.Текст;
			Иначе
				Если СтрокаГруппы = Неопределено Тогда
					продолжить;
				КонецЕсли;
				ДетальнаяСтрока = СтрокаГруппы.Строки.Добавить();
				ДетальнаяСтрока.Группа = КлассификаторЕТСНГ.ПолучитьОбласть(итератор, 2, итератор, 2).ТекущаяОбласть.Текст + " " +
										КлассификаторЕТСНГ.ПолучитьОбласть(итератор, 1, итератор, 1).ТекущаяОбласть.Текст;
			КонецЕсли;
		КонецЦикла;
	КонецЕсли;
КонецПроцедуры // ПриОткрытии()

Процедура ГруппыТоваровВыбор(Элемент, ВыбраннаяСтрока, Колонка, СтандартнаяОбработка)
	СтандартнаяОбработка = Ложь;
	Если ВыбраннаяСтрока.Родитель = Неопределено Тогда
		возврат;
	КонецЕсли;
	Закрыть(ВыбраннаяСтрока.Группа);
КонецПроцедуры // ГруппыТоваровВыбор()