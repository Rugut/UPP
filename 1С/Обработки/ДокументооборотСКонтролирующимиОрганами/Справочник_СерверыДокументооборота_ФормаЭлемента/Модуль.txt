Процедура АдресЭлектроннойПочтыПриИзменении(Элемент)
	
	КонтекстЭДО.СгенерироватьНаименованиеПочтовогоСервера(ЭтотОбъект);
	
КонецПроцедуры

Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	
	Если ЭтоНовый() И НЕ ЗначениеЗаполнено(ПараметрОбъектКопирования) Тогда
		ДлительностьОжиданияСервера = 60;
	КонецЕсли;
	
	КонтекстЭДО.ОтобразитьСертификатВПолеВвода(ЭлементыФормы.Сертификат, Сертификат);
	
КонецПроцедуры

Процедура СертификатНачалоВыбора(Элемент, СтандартнаяОбработка)
	
	РезультатВыбора = КонтекстЭДО.ВыбратьСертификат(Сертификат, "AddressBook");
	Если РезультатВыбора <> Неопределено Тогда
		Сертификат = РезультатВыбора.Отпечаток;
		КонтекстЭДО.ОтобразитьСертификатВПолеВвода(Элемент, Сертификат);
		Модифицированность = Истина;
	КонецЕсли;
	
КонецПроцедуры

Процедура СертификатОткрытие(Элемент, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	Если ЗначениеЗаполнено(Сертификат) Тогда
		КонтекстЭДО.ПоказатьСертификат(Сертификат, "AddressBook");
	КонецЕсли;
	
КонецПроцедуры

Процедура СертификатОчистка(Элемент, СтандартнаяОбработка)
	
	Сертификат = "";
	КонтекстЭДО.ОтобразитьСертификатВПолеВвода(Элемент, Сертификат);
	Модифицированность = Истина;
	
КонецПроцедуры

Процедура ОбработкаОповещения(ИмяСобытия, Параметр, Источник)
	
	Если ИмяСобытия = "Опрос форм" И Параметр.Ключ = Ссылка Тогда
		Параметр.Форма = ЭтаФорма;
	КонецЕсли;
	
КонецПроцедуры