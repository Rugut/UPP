////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

// Процедура - обработчик события ПередОткрытием формы.
//
Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	
	ИскомоеЗначение = ВосстановитьЗначение("ПараметрПоискаРегламентированнойОтчетности1");
	СохрИскатьВТексте = ВосстановитьЗначение("ПараметрПоискаРегламентированнойОтчетностиИскатьВТексте");
	Если СохрИскатьВТексте <> Неопределено Тогда
		ИскатьВТексте = СохрИскатьВТексте;
	КонецЕсли;
	
КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ДЕЙСТВИЯ КОМАНДНЫХ ПАНЕЛЕЙ ФОРМЫ

// Процедура - действие кнопки Искать командной панели ОсновныеДействияФормы.
//
Процедура КнопкаИскатьНажатие(Кнопка)
	
	Если НЕ ЗначениеЗаполнено(ИскомоеЗначение) Тогда
		Предупреждение("Не задано значение для поиска!");
		Возврат;
	КонецЕсли;
	
	Парам1 = ВосстановитьЗначение("ПараметрПоискаРегламентированнойОтчетности1");
	Парам2 = ВосстановитьЗначение("ПараметрПоискаРегламентированнойОтчетности2");
	Парам3 = ВосстановитьЗначение("ПараметрПоискаРегламентированнойОтчетности3");
	Парам4 = ВосстановитьЗначение("ПараметрПоискаРегламентированнойОтчетности4");
	Парам5 = ВосстановитьЗначение("ПараметрПоискаРегламентированнойОтчетности5");
	Парам6 = ВосстановитьЗначение("ПараметрПоискаРегламентированнойОтчетности6");
	Парам7 = ВосстановитьЗначение("ПараметрПоискаРегламентированнойОтчетности7");
	Парам8 = ВосстановитьЗначение("ПараметрПоискаРегламентированнойОтчетности8");
	Парам9 = ВосстановитьЗначение("ПараметрПоискаРегламентированнойОтчетности9");
	Парам10= ВосстановитьЗначение("ПараметрПоискаРегламентированнойОтчетности10");
	
	СохранитьЗначение("ПараметрПоискаРегламентированнойОтчетности10", Парам9);
	СохранитьЗначение("ПараметрПоискаРегламентированнойОтчетности9", Парам8);
	СохранитьЗначение("ПараметрПоискаРегламентированнойОтчетности8", Парам7);
	СохранитьЗначение("ПараметрПоискаРегламентированнойОтчетности7", Парам6);
	СохранитьЗначение("ПараметрПоискаРегламентированнойОтчетности6", Парам5);
	СохранитьЗначение("ПараметрПоискаРегламентированнойОтчетности5", Парам4);
	СохранитьЗначение("ПараметрПоискаРегламентированнойОтчетности4", Парам3);
	СохранитьЗначение("ПараметрПоискаРегламентированнойОтчетности3", Парам2);
	СохранитьЗначение("ПараметрПоискаРегламентированнойОтчетности2", Парам1);
	СохранитьЗначение("ПараметрПоискаРегламентированнойОтчетности1", ИскомоеЗначение);
	
	Закрыть(Новый Структура("ИскомоеЗначение, ИскатьВТексте", ИскомоеЗначение, ИскатьВТексте));
	
КонецПроцедуры

// Процедура - обработчик события ПриЗакрытии формы.
//
Процедура ПриЗакрытии()
	
	СохранитьЗначение("ПараметрПоискаРегламентированнойОтчетностиИскатьВТексте", ИскатьВТексте);
	
КонецПроцедуры

//////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ДИАЛОГА

// Процедура - обработчик события НачалоВыбораИзСписка поля ввода ИскомоеЗначение.
//
Процедура ИскомоеЗначениеНачалоВыбораИзСписка(Элемент, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	СписокВыбора = Новый СписокЗначений;
	Для Сч = 1 По 10 Цикл
		СохраненноеЗначение = ВосстановитьЗначение("ПараметрПоискаРегламентированнойОтчетности" + Сч);
		Если СохраненноеЗначение <> Неопределено И СписокВыбора.НайтиПоЗначению(СохраненноеЗначение) = Неопределено Тогда
			СписокВыбора.Добавить(СохраненноеЗначение);
		КонецЕсли;
	КонецЦикла;
	РезультатВыбора = ВыбратьИзСписка(СписокВыбора, Элемент, СписокВыбора.НайтиПоЗначению(Элемент.Значение));
	Если РезультатВыбора <> Неопределено Тогда
		Элемент.Значение = РезультатВыбора.Значение;
	КонецЕсли;
	
КонецПроцедуры