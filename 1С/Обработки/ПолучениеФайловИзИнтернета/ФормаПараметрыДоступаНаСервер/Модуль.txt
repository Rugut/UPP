// Обработчик события формы "ПередОткрытием".
// 
Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)

	Если НЕ ПризнакОткрытияФормыИзЯзыка Тогда
		Предупреждение("Данная обработка используется в служебных целях, открытие формы запрещено.");
		Отказ = Истина;
	КонецЕсли; 

КонецПроцедуры

// Обработчик события "Нажатие" кнопки "ОК" командной панели формы "ОсновныеДействияФормы"
// 
Процедура ОсновныеДействияФормыОК(Кнопка)

	Если КодДоступаНаСервер = "" Тогда
		Сообщить("Внимание! Логин/код доступа на сервер не может иметь пустое значение.", СтатусСообщения.Внимание);
		Возврат;
	КонецЕсли;

	Если ЗапомнитьКодИПароль Тогда
		СохранитьЗначение("КодДоступаНаСервер"        , КодДоступаНаСервер);
		СохранитьЗначение("ПарольДоступаНаСервер"     , ПарольДоступаНаСервер);
		СохранитьЗначение("ЗапомнитьКодИПарольСервера", Истина);
	Иначе
		СохранитьЗначение("КодДоступаНаСервер"        , "");
		СохранитьЗначение("ПарольДоступаНаСервер"     , "");
		СохранитьЗначение("ЗапомнитьКодИПарольСервера", Ложь);
	КонецЕсли;

	ЭтаФорма.Закрыть(КодВозвратаДиалога.ОК);

КонецПроцедуры

Процедура ОсновныеДействияФормыОтмена(Кнопка)

	ЭтаФорма.Закрыть(КодВозвратаДиалога.Отмена);

КонецПроцедуры

Процедура ПриОткрытии()

	Если КодДоступаНаСервер <> "" Тогда
		ТекущийЭлемент = ЭлементыФормы.ПарольДоступаНаСервер;
	КонецЕсли;

КонецПроцедуры