Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	
	НадписьСообщение = "В справочнике """+мИскомыйОбъектПоискаДублей.Метаданные().Представление()+""" найдены дублирующие элементы.
	|Отменить ввод нового и выбрать элемент из списка?";
	
	ЭлементыФормы.НайденныеОбъекты.СоздатьКолонки();
	
	Для каждого Колонка Из ЭлементыФормы.НайденныеОбъекты.Колонки Цикл
		
		Если Не мСтруктураПоиска.Свойство(Колонка.Данные) Тогда
			ЭлементыФормы.НайденныеОбъекты.Колонки.Удалить(Колонка);
		КонецЕсли;
		
	КонецЦикла;
	
КонецПроцедуры

Процедура ОсновныеДействияФормыНет(Кнопка)
	
	Закрыть(Истина);
	
КонецПроцедуры

Процедура ОсновныеДействияФормыДа(Кнопка)
	
	ТекущиеДанные = ЭлементыФормы.НайденныеОбъекты.ТекущиеДанные;
	Закрыть(ТекущиеДанные.Ссылка);
	
КонецПроцедуры

Процедура НайденныеОбъектыВыбор(Элемент, ВыбраннаяСтрока, Колонка, СтандартнаяОбработка)
	
	ТекущиеДанные = ЭлементыФормы.НайденныеОбъекты.ТекущиеДанные;
	Закрыть(ТекущиеДанные.Ссылка);
	
КонецПроцедуры

Процедура НайденныеОбъектыПередНачаломИзменения(Элемент, Отказ)
	
	ТекущиеДанные = ЭлементыФормы.НайденныеОбъекты.ТекущиеДанные;
	ОткрытьЗначение(ТекущиеДанные.Ссылка);
	Отказ = Истина;
	
КонецПроцедуры

Процедура НайденныеОбъектыПриВыводеСтроки(Элемент, ОформлениеСтроки, ДанныеСтроки)
	
	Для каждого КлючИЗначение Из мСтруктураПоиска Цикл
		
		ИмяРеквизита = КлючИЗначение.Ключ;
		
		Если ДанныеСтроки[ИмяРеквизита+"_Флаг"] = Истина Тогда
			
			ОформлениеСтроки.Ячейки[ИмяРеквизита].Шрифт = Новый Шрифт(,, Истина);
			
		КонецЕсли;
		
	КонецЦикла;
	
КонецПроцедуры