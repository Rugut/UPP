////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ

// Обработчик события ПриОткрытии формы.
//
Процедура ПриОткрытии()

	ДатаКурса = РабочаяДата;

КонецПроцедуры

// Обработчик события ОбработкаЗаписиНовогоОбъекта формы.
//
Процедура ОбработкаЗаписиНовогоОбъекта(Объект, Источник)

	ЭлементыФормы.СписокВалюты.ТекущаяСтрока = Объект.Ссылка;

КонецПроцедуры

// Обработчик события Действие элемента КоманднаяПанель.ДействиеПодбор.
//
Процедура ДействияФормыДействиеПодбор(Кнопка)

	Справочники.Валюты.ПолучитьФорму("ФормаПодбораИзКлассификатора", ЭтаФорма, "ФормаПодбораИзКлассификатора").Открыть();

КонецПроцедуры

// Обработчик события ПриВыводеСтроки элемента СписокВалюты.
//
Процедура СписокВалютыПриВыводеСтроки(Элемент, ОформлениеСтроки, ДанныеСтроки)

	СтруктураКурса = РегистрыСведений.КурсыВалют.ПолучитьПоследнее(ДатаКурса, Новый Структура("Валюта", ДанныеСтроки.Ссылка));

	Если Элемент.Колонки.Курс.Видимость Тогда
		ОформлениеСтроки.Ячейки.Курс.Текст                = Формат(СтруктураКурса.Курс, "ЧДЦ=4");
		ОформлениеСтроки.Ячейки.Курс.ОтображатьТекст      = Истина;
	КонецЕсли;

	Если Элемент.Колонки.Кратность.Видимость Тогда
		ОформлениеСтроки.Ячейки.Кратность.Текст           = Формат(СтруктураКурса.Кратность, "ЧДЦ=0");
		ОформлениеСтроки.Ячейки.Кратность.ОтображатьТекст = Истина;
	КонецЕсли;

КонецПроцедуры

// Обработчик события нажатия на кнопку "Загрузить курсы" 
// командной панели "Действия Формы"
//
Процедура ДействияФормыЗагрузитьКурсы(Кнопка)

	Обработки.КурсыВалютРБК.ПолучитьФорму(,,).Открыть();

КонецПроцедуры