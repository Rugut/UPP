/////////////////////////////////////////////////////////////////////////
// ОБЩИЕ ПРОЦЕДУРЫ И ФУНКЦИИ
//

Процедура УправлениеДиалогом()

	ЭлементыФормы.ПоВалютам.Доступность = Счет.Валютный;
	
	ЭлементыФормы.ПоКоличеству.Доступность = Счет.Количественный;
	
	ЭлементыФормы.ПоСубсчетам.Доступность = ЕстьСубсчета;
	
КонецПроцедуры // УправлениеДиалогом()

/////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЕ ЭЛЕМЕНТОВ ФОРМЫ
//

Процедура КнопкаОКНажатие(Элемент)
	Закрыть(Истина);
КонецПроцедуры

Процедура КнопкаНастройкаПериодаНажатие(Элемент)

	РаботаСДиалогами.ОбработчикНастройкаПериодаНажатие(ДатаНач, ДатаКон);
	
КонецПроцедуры // КнопкаНастройкаПериодаНажатие()

Процедура СчетПриИзменении(Элемент)
	
	ОбработкаВыбораСчета();
	
	ЕстьСубсчета = БухгалтерскиеОтчеты.ОпределитьНаличиеСубсчетов(Метаданные.РегистрыБухгалтерии[ИмяРегистраБухгалтерии].ПланСчетов.Имя, Счет);
	
КонецПроцедуры

Процедура ОтборЗначениеНачалоВыбора(Элемент, СтандартнаяОбработка)
	
	БухгалтерскиеОтчеты.ОбработатьВыборДляСтрокиОтбораБухОтчетов(ЭлементыФормы.Отбор.ТекущиеДанные, Элемент, СтандартнаяОбработка, ЭтотОбъект);
	
КонецПроцедуры

/////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ
//

Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	
	ЕстьСубсчета = БухгалтерскиеОтчеты.ОпределитьНаличиеСубсчетов(Метаданные.РегистрыБухгалтерии[ИмяРегистраБухгалтерии].ПланСчетов.Имя, Счет);
	
	УправлениеДиалогом();
	
КонецПроцедуры

Процедура ПриОткрытии()

	Если РегламентированнаяОтчетность.ИДКонфигурации() <> "БП" Тогда
		// Проверка ведения однофирменности
		УчетПоВсемОрганизациям = Истина;
	КонецЕсли;
	
    БухгалтерскиеОтчеты.ПоддержкаОднофирменностиДляФормыНастроекБухОтчетов(ЭтаФорма, УчетПоВсемОрганизациям);

КонецПроцедуры

Процедура ОбновлениеОтображения()
	УправлениеДиалогом();
КонецПроцедуры