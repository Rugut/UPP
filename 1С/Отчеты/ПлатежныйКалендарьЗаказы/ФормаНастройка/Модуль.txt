///////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

// Процедура - обработчик события "Перед открытием" формы отчета.
//
Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)

	Заголовок = мНазваниеОтчета;

КонецПроцедуры // ПередОткрытием()

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ДИАЛОГА

// Процедура - обработчик нажатия кнопки настройки периода.
//
Процедура КнопкаНастройкаПериодаНажатие(Элемент)
	
	Если НП.Редактировать() Тогда
		
		ЭлементыФормы.ДатаНач.Значение = НП.ПолучитьДатуНачала();
		ЭлементыФормы.ДатаКон.Значение = НП.ПолучитьДатуОкончания();
		
	КонецЕсли;
	
КонецПроцедуры // КнопкаНастройкаПериодаНажатие()

// Процедура - обработчик нажатия кнопки ОК.
//
Процедура ОсновныеДействияФормыОК(Кнопка)
	
	Закрыть(Истина);
	
КонецПроцедуры // ОсновныеДействияФормыОК()

// Процедура - обработчик перед удалением строки отбора
//
Процедура ОтборПередУдалением(Элемент, Отказ)
	
	Если Не ПустаяСтрока(Элемент.ТекущаяСтрока.Имя) Тогда
		Отказ = Истина;
	КонецЕсли; 
	
КонецПроцедуры // ОтборПередУдалением()

Процедура КоманднаяПанельОсновныеГруппировкиУстановитьВсе(Кнопка)
	
	Для каждого Строка Из ОсновныеГруппировки Цикл
		Строка.Использование = Истина;
	КонецЦикла;
	
КонецПроцедуры

Процедура КоманднаяПанельОсновныеГруппировкиСнятьВсе(Кнопка)
	
	Для каждого Строка Из ОсновныеГруппировки Цикл
		Строка.Использование = Ложь;
	КонецЦикла;

КонецПроцедуры

Процедура КоманднаяПанельДополнительныеГруппировкиУстановитьВсе(Кнопка)
	
	Для каждого Строка Из ДополнительныеГруппировки Цикл
		Строка.Использование = Истина;
	КонецЦикла;
	
КонецПроцедуры

Процедура КоманднаяПанельДополнительныеГруппировкиСнятьВсе(Кнопка)
	
	Для каждого Строка Из ДополнительныеГруппировки Цикл
		Строка.Использование = Ложь;
	КонецЦикла;
	
КонецПроцедуры

Процедура ДетализацияПоПериодамПриИзменении(Элемент)
	
	СформироватьНастройкиОтчета(Новый Массив,Новый Структура);
	
КонецПроцедуры