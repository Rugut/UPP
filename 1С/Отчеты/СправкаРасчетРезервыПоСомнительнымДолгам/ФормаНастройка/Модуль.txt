Процедура КнопкаОКНажатие(Кнопка)
	Закрыть(Истина);
КонецПроцедуры

Процедура УправлениеДиалогом()	
	ВариантОтчета = ?(ВариантОтчета = 0, 1, ВариантОтчета);
КонецПроцедуры

Процедура ПередОткрытием(Отказ, СтандартнаяОбработка)
	УправлениеДиалогом();
КонецПроцедуры

Процедура ПриОткрытии()
	
	Если Не ЗначениеЗаполнено(ПериодРегистрации) Тогда
		ПериодРегистрации = ТекущаяДата();
	КонецЕсли;
	ПредставлениеПериодаРегистрации    = РаботаСДиалогами.ПолучитьПредставлениеПериодаРегистрации(ПериодРегистрации);
	
	УправлениеВидимостьюВариантовОтчета();
	ЗаполнитьНачальныеНастройки()
КонецПроцедуры

Процедура ОбновлениеОтображения()
	УправлениеДиалогом();
	
КонецПроцедуры

// Процедура - обработчик события "Регулирование" элемента управления ПредставлениеПериодаРегистрации.
//
Процедура ПредставлениеПериодаРегистрацииРегулирование(Элемент, Направление, СтандартнаяОбработка)
	
	РаботаСДиалогами.РегулированиеПредставленияПериодаРегистрации(Направление, СтандартнаяОбработка, ПериодРегистрации, ПредставлениеПериодаРегистрации);
	
КонецПроцедуры

// Процедура - обработчик события "НачалоВыбораИзСписка" элемента управления ПредставлениеПериодаРегистрации.
//
Процедура ПредставлениеПериодаРегистрацииНачалоВыбораИзСписка(Элемент, СтандартнаяОбработка)
	
	РаботаСДиалогами.НачалоВыбораИзСпискаПредставленияПериодаРегистрации(Элемент, СтандартнаяОбработка, ПериодРегистрации, ЭтаФорма);
	
КонецПроцедуры

Процедура УправлениеВидимостьюВариантовОтчета()
	
	ПрименяетсяУСН = НалоговыйУчетУСН.ПрименениеУСН(Организация,НачалоМесяца(ПериодРегистрации));
	
	ВариантОтчета = ?(ВариантОтчета = 0 ИЛИ ПрименяетсяУСН, 1, ВариантОтчета);
	ЭлементыФормы.ВариантОтчета.Доступность = Не ПрименяетсяУСН;
	ЭлементыФормы.ВидОтчета2.Доступность = Не ПрименяетсяУСН;
	ЭлементыФормы.ВидОтчета3.Доступность = Не ПрименяетсяУСН;
	ЭлементыФормы.ВидОтчета2.Видимость = Не ПрименяетсяУСН;
	ЭлементыФормы.ВидОтчета3.Видимость = Не ПрименяетсяУСН;
	
КонецПроцедуры

Процедура ПредставлениеПериодаРегистрацииПриИзменении(Элемент)
	УправлениеВидимостьюВариантовОтчета()
КонецПроцедуры

Процедура ОрганизацияПриИзменении(Элемент)
	УправлениеВидимостьюВариантовОтчета()
КонецПроцедуры