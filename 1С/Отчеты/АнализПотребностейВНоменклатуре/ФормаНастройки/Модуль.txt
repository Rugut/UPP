////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ФОРМЫ

// Обработчик события Нажатие элемента формы ОсновныеДействияФормы.ОК.
//
Процедура ОсновныеДействияФормыОК(Элемент)
	
	ЭтаФорма.Закрыть(Истина);
	
КонецПроцедуры

// Обработчик события НачалоВыбора элемента формы Группировки.Представление.
//
Процедура ГруппировкиПредставлениеНачалоВыбора(Элемент, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	
	ФормаВыбора = ПолучитьФорму("ФормаВыбора", ЭтаФорма);
	
	ФормаВыбора.ИмяТипаПоля = "Измерение";
	
	ИмяВыбранногоПоля = ФормаВыбора.ОткрытьМодально();
	
	НайденноеПоле = ДоступныеПоля.Найти(ИмяВыбранногоПоля);
	
	Если НайденноеПоле <> Неопределено Тогда
	
		ЭлементыФормы.Группировки.ТекущиеДанные.Имя = НайденноеПоле.Имя;
		ЭлементыФормы.Группировки.ТекущиеДанные.Представление = НайденноеПоле.Представление;
	
	КонецЕсли; 
	
КонецПроцедуры

// Обработчик события ПередУдалением элемента формы Отбор.
//
Процедура ОтборПередУдалением(Элемент, Отказ)
	
	Если Элемент.ТекущиеДанные <> Неопределено Тогда
		Если мСписокОтборов.НайтиПоЗначению(Элемент.ТекущиеДанные.Имя) <> Неопределено Тогда
			Отказ = Истина;
		КонецЕсли; 
	КонецЕсли; 
	
КонецПроцедуры

// Обработчик события ПередНачаломИзменения элемента формы Отбор.
//
Процедура ОтборПередНачаломИзменения(Элемент, Отказ)
	
	Если Элемент.ТекущиеДанные <> Неопределено Тогда
		Если мСписокОтборов.НайтиПоЗначению(Элемент.ТекущиеДанные.Имя) <> Неопределено И Элемент.ТекущаяКолонка.Имя = "Имя" Тогда
			Отказ = Истина;
		КонецЕсли; 
	КонецЕсли; 
	
КонецПроцедуры